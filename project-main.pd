#N canvas 69 -9 1842 1026 12;
#X floatatom 466 161 5 0 0 0 - - -;
#X obj 423 43 adc~;
#X obj 583 294 float;
#X floatatom 466 210 5 0 0 0 - - -;
#X obj 492 249 -;
#X obj 492 273 abs;
#X obj 492 297 < 0.5;
#X obj 492 321 sel 0;
#X obj 492 345 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 466 186 t f f;
#X text 70 270 if new pitch and old pitch are less than 0.5 apart \,
disregard. if not \, harmonize to new pitch;
#X text 683 207 if pitch shifts enough \, we renew the note. to do:
also renew when you sing the same note by measuring loudness;
#X obj 905 82 else/keyboard 17 80 4 3 0 0 empty empty;
#X obj 434 69 sigmund~ notes env;
#X obj 838 959 dac~;
#X obj 838 911 catch~ output;
#X obj 1115 332 + 1;
#X floatatom 1115 380 5 0 0 0 - - -;
#X obj 1114 293 float;
#X floatatom 1146 265 5 0 0 0 - - -;
#X obj 1116 408 pack 0 0;
#X msg 441 121 60;
#X msg 520 124 65;
#X obj 1116 436 clone project-harmonizer 2;
#X obj 1115 356 % 2;
#X obj 1166 522 throw~ output2;
#X obj 583 828 project-harmonizer;
#X obj 642 884 throw~ output;
#X obj 679 441 random 6;
#X obj 534 437 random 6;
#X obj 608 441 random 6;
#X obj 537 382 t b b b;
#X obj 575 581 pack 0 0 0;
#X obj 454 632 sel 0 1 2 3 4 5;
#X obj 578 634 sel 0 1 2 3 4 5;
#X obj 703 635 sel 0 1 2 3 4 5;
#X obj 575 605 unpack f f f;
#X text 685 526 solution for repeat picks: use an array (subpatch)
;
#X connect 0 0 9 0;
#X connect 1 0 13 0;
#X connect 1 1 13 0;
#X connect 2 0 4 1;
#X connect 2 0 20 1;
#X connect 2 0 26 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 2 0;
#X connect 8 0 18 0;
#X connect 8 0 31 0;
#X connect 9 0 3 0;
#X connect 9 1 2 1;
#X connect 15 0 14 0;
#X connect 15 0 14 1;
#X connect 16 0 24 0;
#X connect 17 0 18 1;
#X connect 17 0 20 0;
#X connect 18 0 16 0;
#X connect 19 0 18 1;
#X connect 20 0 23 0;
#X connect 21 0 0 0;
#X connect 22 0 0 0;
#X connect 23 0 25 0;
#X connect 23 1 25 0;
#X connect 23 2 25 0;
#X connect 23 3 25 0;
#X connect 23 4 25 0;
#X connect 23 5 25 0;
#X connect 24 0 17 0;
#X connect 26 0 27 0;
#X connect 26 1 27 0;
#X connect 26 2 27 0;
#X connect 26 3 27 0;
#X connect 26 4 27 0;
#X connect 26 5 27 0;
#X connect 28 0 32 2;
#X connect 29 0 32 0;
#X connect 30 0 32 1;
#X connect 31 0 29 0;
#X connect 31 1 30 0;
#X connect 31 2 28 0;
#X connect 32 0 36 0;
#X connect 33 0 26 1;
#X connect 33 1 26 2;
#X connect 33 2 26 3;
#X connect 33 3 26 4;
#X connect 33 4 26 5;
#X connect 33 5 26 6;
#X connect 34 0 26 1;
#X connect 34 1 26 2;
#X connect 34 2 26 3;
#X connect 34 3 26 4;
#X connect 34 4 26 5;
#X connect 34 5 26 6;
#X connect 35 0 26 1;
#X connect 35 1 26 2;
#X connect 35 2 26 3;
#X connect 35 3 26 4;
#X connect 35 4 26 5;
#X connect 35 5 26 6;
#X connect 36 0 33 0;
#X connect 36 1 34 0;
#X connect 36 2 35 0;
